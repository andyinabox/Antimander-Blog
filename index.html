<!DOCTYPE html><html lang="en"><head><title>Antimander</title><meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport"><style>@font-face {
    font-family: "redaction";
    src: url("./fonts/Redaction-Regular.woff") format('woff');
}
@font-face {
    font-family: "redaction";
    src: url("./fonts/Redaction-Bold.woff") format('woff');
    font-weight: bold;
}
@font-face {
    font-family: "redaction";
    src: url("./fonts/Redaction-Italic.woff") format('woff');
    font-style: italic;
}
</style><link href="style/d3.parcoords.css" rel="stylesheet" type="text/css"><link href="style/parallel-coordinates.css" rel="stylesheet" type="text/css"><script src="src/lib/d3.min.js"></script><script src="src/lib/d3.svg.multibrush.js"></script><script src="src/lib/d3.autodesk.parcoords.js"></script><script src="https://d3js.org/d3-color.v1.min.js"></script><script src="https://d3js.org/d3-interpolate.v1.min.js"></script><script src="https://d3js.org/d3-scale-chromatic.v1.min.js"></script></head><body><div class="container center" id="header-container"><h1 class="main-heading"><i>Antimander</i></h1><p style="margin-top: 0px;">Open-source research and software to fight gerrymandering</p><p class="small">By <a href="http://www.joelsimon.net">Joel Simon</a> with contributions from <a href="http://joellehman.com/">Joel Lehman</a> and Nio Ono</p></div><div class="inner_body"><br><div class="outer-text-container"><div class="inner-text-container tags"><h4 class="tag"><a href="#intro">0: INTRO</a></h4><h4 class="tag"><a href="#background">1: BACKGROUND</a></h4><h4 class="tag"><a href="#viewer">2: VIEWER</a></h4><h4 class="tag"><a href="#metrics">3: METRICS</a></h4><h4 class="tag"><a href="#methods">4: METHODS</a></h4><h4 class="tag"><a href="#next-steps">5: NEXT-STEPS</a></h4></div></div><div class="outer-text-container" id="intro"><div class="inner-text-container"><p>Gerrymandering is difficult for courts to fight becuase there is no agreed upon definition. Properties like compactness and fairness are desired but there are subjective tradeoffs between them and no 'ideal' districting exists. As a result, it is difficult to deffinitively show that a districting could be more fair. Evaluating a districting by comparing it to a set of reasonable alternatives has become a theoretically attractive approach. However, generating a large set of satisfactory districts is a significant technical challence because states may be composed of tens of thousands of geographic units, with trade-offs between many competing objectives.</p><!-- p The districting problem is the partitioning of an undirected connected graph into a fixed number of districts. Each node in the graph represents the geographic unit of a state that composes a district, and contains a number of voters registered for each party.The partitioning of the state has two constraints: the total population of each district must be approximately equal (i.e. it cannot deviate more than 5% from the state’s total population divided by the number of districts), and each district must be contiguous.--><p>Antimander is a generative design tool and research project to generate and browse optimized congressional dsitrictings. While districting commitess using it directly is unikely, it could be used as evidence of gerrymandering and also to help inform to public about the tradeoffs and how these trade-offs were made for their districts.</p><p>Antimander proposes connecting algorithmic districting to the research field of multi-objective evolutionary algorithms (MOEAs) and novelty search and presents an open source optimization engine and viewer that does so. It is just a first-step and more work and help is needed.</p><h3 style="margin-top:0px;">Wisconsin: Real vs Antimander-Optimized</h3><img src="imgs/results.png"></div></div><div class="outer-text-container" id="background"><div class="inner-text-container"><h1>Background</h1><p>Every decade the US redraws congressional districts, which are divisions of a state each allotted one elected congressional representative. The distribution of elected representatives has significant political impact, motivating political parties to exploit such districting to their advantage, known as gerrymandering. For example, districtings can pack a small number of districts full of the opposing party’s voters to waste many votes, enabling other districts to crack i.e. to be won by a small (but comfortable) amount, thereby securing an outsize proportion of a state’s representatives for the gerrymandering party.</p><p>TODO - add more</p><p>Previous approaches apply Monte Carlo methods [1], single-objective evolutionary algorithms [4], and non-evolutionary two-objective methods [6] to generate districtings. Antimander is a open source, multi-objective evolutionary that creates optimzied dsitricts for comparison.</p></div></div><div class="viewer_row" id="viewer" data-datapath="general"><div class="district-viewer"><h1 class="header">Interactive Viewer</h1><div class="parcoords"></div><div class="padding"></div><div class="canvas_container"></div><p class="view_count">Viewing N / K</p></div><div class="district-text"><div class="district-text-inner"><div class="scroll_block"><p>On the top left is something called a <a class="cite" href="https://eagereyes.org/techniques/parallel-coordinates">parallel coordinates plot</a>
which has one line for every generated solution. Each vertical axis is another dimension we are trying to optimize for.</p></div><div class="scroll_block"><p>You can drag (brush) on axis to filter only those. This makes it easy to explore the tradeoffs. For example, you may see only the top percentage of one objective and also how those solutions rank in other objectives.</p><img class="shadow" src="imgs/filter.png"></div><div class="scroll_block"><p>You may also click on any district to enlarge it.</p></div><div class="scroll_block"><p>Each state is divided into eight districts. The color represents what party that district is leaning towards.</p><img class="legend" src="imgs/figure_legend.png"></div></div></div></div><canvas class="main_canvas" width="1024" height="1024"></canvas><div class="outer-text-container" id="metrics"><div class="inner-text-container"><H1>Metrics: What makes a good district?</H1><p>The results above were optimized for "fairness", "compactness" and "competitiveness." But what are those and what do they mean?</p></div><div class="inner-text-container"><div class="col2"><h2>Fairness</h2><p>Generally we want the percent of representatives to correspont to the percent of voters for that party. The efficiency gap [5] is a metric that views fairness through the lens of the lost votes of each party. Votes cast for the losing party, or those cast for the winning party beyond the winning threshold are considered lost.</p></div><div class="col2"><h2>Competitiveness</h2><p></p><p>Close races helps prevent incumbents from being too entrenched (incumbant gerrymandering). Also, less polarized represetnatives are beneficial for a healthy democracy. Competitiveness is measured by the largest ratio by which one party wins over another.</p></div></div><div class="inner-text-container"><H2>Compactness</H2><p>The original gerrymander was named for its peculiar shape it is intuitivly desirable to expect to live near people within a same district. A lot of attention is therefore paid to the shad of districts, especially since - unlike other metrics - it is easy to evaluate visually. But what does it mean to be 'compact'? It turns out there are many metrics that can be used. Images below are from <a href="https://fisherzachary.github.io/public/r-output.html">this article</a> which also has additional metrics.</p></div><div class="inner-text-container"><div class="compactness_tile"><h3>Polspy-Popper</h3><p>Ratio of area to perimeter (used above).</p><img src="imgs/compactness/polsby_popper.png" style="max-width:256px;"></div><div class="compactness_tile"><h3>Convex-Hull</h3><p>Ratio of area to its convex hull.</p><img src="imgs/compactness/convex_hull.png" style="max-width:256px;"></div><div class="compactness_tile"><h3>Bounding-Circle (Reock)</h3><p>Ratio of area to its minimum bounding circle. Also knows as "Reock."</p><img src="imgs/compactness/reock.png" style="max-width:256px;"></div><div class="compactness_tile"><h3>Center-Distance</h3><p>The average distance to the centroid of a district.</p><img src="imgs/compactness/center_distance.png" style="max-width:256px;"></div></div></div><div class="viewer_row" id="viewer" data-datapath="all_compactness"><div class="district-viewer"><h1 class="header">Multiple compactness</h1><div class="parcoords"></div><div class="padding"></div><div class="canvas_container"></div><p class="view_count">Viewing N / K</p></div><div class="district-text"><div class="district-text-inner"><div class="scroll_block"><p>As you can see compactness is complicated. On the left are districts optimized for all of thecompactness metrics above. They still had to be contiguos and equal (same number of people).</p></div><div class="scroll_block"><p>We can see which metrics corelate and which dont, or what it means to be compact for one but not the other.</p></div><div class="scroll_block"><p>The dark colors mean these districts are not competitive, which is not suprising since that was not included.</p></div><div class="scroll_block"><p>Test</p></div><div class="scroll_block"><p>Test</p></div><div class="scroll_block"><p>Test</p></div><div class="scroll_block"><p>Test</p></div></div></div></div><div class="outer-text-container" id="methods"><div class="inner-text-container"><H1>Methods</H1><p>Multi-objective evolutionary algorithms are able to optimize across multiple objectives. The Non-Dominated-Sorting-Genetic-Algorithm (NSGA-II) [cite] is used here which is a common method that find solutions that are 'non-dominated' (there is no other solution better in all objectives). To improve upon NSGA-II (which when applied naively failed to generate any feasible solutions), we explore a series of extensions: multi-phase optimization, novelty search (NS), and feasible-infeasible (FIF) search. Crossover is not employed due to the challenges of combining diverse partitions to generate viable and meaningful new solutions.</p><h2>Representation & Seeding</h2><p>Districts are represented as integer arrays, where each node is assigned to a district. Initial individuals are created by taking random seed nodes and iteratively adding adjacent random unassigned nodes until there are no unassigned nodes left. A hill-climbing repair operator mutates the random districts until they meet the equality threshold constraint.</p><h2>Mutation Operator</h2><p>The mutation operator simply takes a node bordering another district and swaps the district it belongs to. To make exploring the search space practical, the mutation operator only allows mutations that preserve the contiguity of the district. Calculating graph connectedness after every mutation would be computationally prohibitive. Instead, local adjacency graph for every node is pre-computed. This graph on node N is the subgraph where every node is a neighbor of N. To determine if a node N may be removed from a partition without breaking contiguity, a simple search is done on the graph to see if all members that belong to that district remain connected. A full graph traversal is not needed because of assumptions about the structure of districts (such that one district will never fully enclosed another district) that are preserved by the objectives.</p><h2>Novelty Search</h2><p>Novelty search explicitly promotes phenotypic diversity, thereby assisting exploration [ <a class="cite" href="">cite</a> ]. Novelty Search requires a behavior characterization that captures important traits in few dimensions. To apply novelty search here, we take inspiration from shape features used to characterize 3D meshes [cite osada2002shape] (cite used in corals.). Here, our BC is the histogram of the distances between the centers of all districts.</p><h2>Feasible-Infeasible Search</h2><div class="col" style="width:65%;"><p>The double constraints of contiguity and equality propose a challenge for the optimization process since the mast majory of the possibilities are inviable. Often, finding a good solution requires explores some bad ones first. Some genetic-algorithms simply throw out invlaid solutions while others keep them in the same population but with a penalty to their fitness. A more elegant solution is to keep two populations of solutions, one for feasible individuals (those that satify all constraints) and one for infeasible (FIF). The feasible optimize for all the objectives while the infeasible optimize to satisfy the objectives. Liapis et all (cite Enhancements to Constrained Novelty Search) propose combining novlety search with FIF.</p></div><div class="col" style="width:35%;"><img src="imgs/FIF.png" style="max-width:256px;"><p>Derp derp</p></div><h2>Multi-Phase</h2><p>Because optimizing a large number of nodes directly is challenging, districts are optimized through a multi-phase evolutionary algorithm, where each successive phase divides districts more granularly (similarly to Swarmy et al. cite{swamymulti}). To create a series of coarsening graphs, the graph is iteratively contracted using star contraction \cite[ch. 13]{ab-algorithms} until the state has reached 500 nodes (a resolution amenable to direct optimization). An additional bias is added to preserve compact shapes across graph resolutions. The results of optimizing at a more coarse representation serve as a starting point for optimizing the successive (less-coarse) phase.</p><img src="imgs/contract.png" style="max-width:100%;"><p>TODO repalce with a state contracted</p><h2>Data</h2><p>Wisconsin is chosen as a test as in [cite{liu2016pear,swamymulti}]. Census and geographic data was downloaded from the Metric Geometry and Gerrymandering Group's mggg-states Github repository. Voters for each party were the average voters in the 2012 and 2016 presidential election. Wisconsin has eight congressional districts composed from 6634 census wards.</p></div></div><div class="outer-text-container" id="results"><div class="inner-text-container"><h2>Experiments</h2><div class="col2"><p>Three methods were compared: NSGA-II, feasible-infeasible search (FIF), and FIF with novelty as an additional objective in the infeasible population only (FIF-NOV). Each run had a total population of 800, and consisted of 1000 generations per each of its five phases. Each run was replicated five times.</p><p>FIF with novelty outperformed vanilla NSGA-2 and FIF without novelty. Somewhat suprisingly, FIF did worse than NSGA if no novelty was employed.</p></div><div class="col2" style="vertical-align:middle;"><img src="imgs/results.svg" style="max-width:300px;"></div><img src="imgs/results.png"><p>Comparing actual and optimized Wisconsin districts. Shown optimized solutions are hand-chosen from those that dominate the actual districting (i.e. strictly lower score on all measures) (a) Wisconsin's 2011 districts have scores: fairness=0.788, competitiveness=%53.16, equality=%8.46. (b) An optimized compact district from a FIF-NOV run: fairness=0.647, competitiveness=%17.98, equality=%0.76. The solution is quantatively and qualitatively more compact than the actual districting. (c) An optimized district with maximum fairness and competitiveness from a FIF-NOV run: fairness=0.762, competitiveness=%13.12, equality=%0.0 Remarkably this districting had exactly 726419 lost votes for each party.</p></div><div class="inner-text-container"><h2>Conclusion & Next-Steps</h2><p>Despite gerrymandering remaining a challenge, there is promise that algorithmic developments may offer relief. Towards that end, we have demonstrated a method and open-source tool that optimizes districts across several objectives using multi-objective evolution. Our study in Wisconsin demonstrates the capacity to produce districts that are more equal, competitive, and compact than the current real-world districts. However, for tools like this to be successful they must incorporate many further measures, including majority-minority districts, preserving areas of interest, and other metrics that vary in importance by state. We suggest the districting problem as a potential MOEA benchmark for both technical reasons and because of its timely need for the 2021 redistricting.</p></div></div><div class="mailchimp"><!-- Begin Mailchimp Signup Form--><h2>Stay up to date with Antimander</h2><link href="//cdn-images.mailchimp.com/embedcode/horizontal-slim-10_7.css" rel="stylesheet" type="text/css"><style type="text/css">#mc_embed_signup{background:#fff; clear:left; font:14px Helvetica,Arial,sans-serif; width:100%;}
/* Add your own Mailchimp form style overrides in your site stylesheet or in this style block.
We recommend moving this block and the preceding CSS link to the HEAD of your HTML file. */</style><div id="mc_embed_signup"><form class="validate" id="mc-embedded-subscribe-form" action="https://app.us19.list-manage.com/subscribe/post?u=a8bf2c0baf9814ce560cee82d&amp;id=9ea5be3557" method="post" name="mc-embedded-subscribe-form" target="_blank" novalidate=""><div id="mc_embed_signup_scroll"><!-- label(for='mce-EMAIL') Stay up to date with Antimander--><input class="email" id="mce-EMAIL" type="email" value="" name="EMAIL" placeholder="email address" required=""><!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--><div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_a8bf2c0baf9814ce560cee82d_9ea5be3557" tabindex="-1" value=""></div><div class="clear"><input class="button" id="mc-embedded-subscribe" type="submit" value="Subscribe" name="subscribe"></div></div></form></div></div><div class="outer-text-container" id="next-steps"><div class="inner-text-container"><h1>References</h1><p>TODO</p></div></div><div class="padding" style="height:20px;"></div></div><script type="text/javascript" src="bundle.js"></script></body></html>